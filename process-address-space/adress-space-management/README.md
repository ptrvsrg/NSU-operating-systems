# Управление адресным пространством

1. Напишите программу, которая:

    + выводит `pid` процесса;
    + ждет одну секунду;
    + делает `exec(2)` самой себя;
    + выводит сообщение `Hello world`

2. Понаблюдайте за выводом программы и содержимым соответствующего файла `/proc/<pid>/maps`. Объясните происходящее.
3. Напишите программу, которая:

    + выводит `pid` процесса;
    + ждет 10 секунд (подберите паузу чтобы успеть начать мониторить адресное пространство процесса, например, `watch cat /proc/<pid>/maps`);
    + напишите функцию, которая будет выделять на стеке массив (например, 4096 байт) и рекурсивно вызывать себя;
    + понаблюдайте как изменяется адресное пространство процесса (`stack`);
    + напишите цикл, в котором на каждой итерации будет выделяться память на куче (подберите размер буфера сами). Используйте секундную паузу между итерациями.
    + понаблюдайте как изменится адресное пространство процесса (`heap`);
    + освободите занятую память.
    + присоедините к процессу еще один регион адресов размером в 10 страниц (используйте `mmap(2)` с флагом `ANONYMOUS`).
    + понаблюдайте за адресным пространством.
    + измените права доступа к созданному региону и проверьте какая
    будет реакция, если их нарушить:

      + запретите читать данные и попробуйте прочитать из
      региона.
      + запретите писать и попробуйте записать.

    + попробуйте перехватить сигнал `SIGSEGV`.
    + отсоедините страницы с 4 по 6 в созданном вами регионе.
    + понаблюдайте за адресным пространством.

4. Чтобы было удобнее наблюдать за адресным пространством подберите удобные паузы между операциями изменяющими его.
5. Объясните что происходит с адресным пространством в данной задаче.
